{% extends "datebook/base.html" %}
{% load i18n %}

{% block datebook_content %}

<ul class="datebook-calendar-month-week">{% for datekey, entry in weekdays %}
    <li class="item">
        <h3>{{ datekey|date:"d - l" }}</h3>
        <div class="container{% if not entry %} empty{% elif entry.vacation %} vacation{% endif %}">
        {% if entry %}
            {% if entry.vacation %}
                <p>Vacation</p>
            {% else %}
                <p class="working-hour">{{ entry.get_working_hours }}</p>
                <div class="content">{{ entry.content }}</div>
                <p class="length">{{ entry.get_elapsed_time }}</p>
            {% endif %}
            <p><a href="{% url 'datebook-author-day-edit' author=author year=datebook.period.year month=datebook.period.month day=datekey|date:"d" %}" class="button round secondary">{% trans 'Edit' %}</a></p>
        {% else %}
            <p><a href="{% url 'datebook-author-day-add' author=author year=datebook.period.year month=datebook.period.month day=datekey|date:"d" %}" class="button round secondary">{% trans 'Add' %}</a></p>
        {% endif %}
        </div>
    </li>
{% endfor %}</ul>
{% endblock %}